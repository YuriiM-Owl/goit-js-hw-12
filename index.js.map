{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46396055-d69cef0b7d1de44edfbae421d';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const searchImages = searchRequest => {\n  const options = new URLSearchParams({\n    key: API_KEY,\n    q: searchRequest,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${options}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","export const imageCard = array =>\n  array.map(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    }) => `\n<li class=\"gallery-item\">\n<a href=\"${largeImageURL}\" class=\"gallery-link\" >\n<img src=\"${webformatURL}\" class=\"gallery-image\" alt=\"${tags}\" />\n</a>\n<div class=\"item-info\">\n    <div class=\"stats-box\">\n    <p class=\"stat\">Likes</p>\n    <p class=\"stat-value\">${likes}</p>\n  </div>\n  <div class=\"stats-box\">\n    <p class=\"stat\">Views</p>\n    <p class=\"stat-value\">${views}</p>\n  </div>\n  <div class=\"stats-box\">\n      <p class=\"stat\">Comments</p>\n      <p class=\"stat-value\">${comments}</p>\n  </div>\n  <div class=\"stats-box\">\n      <p class=\"stat\">Downloads</p>\n      <p class=\"stat-value\">${downloads}</p>\n  </div>\n</div>\n</li>`\n  );\n","import { searchImages } from './js/pixabay-api.js';\nimport { imageCard } from './js/render-functions.js';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst form = document.querySelector('.search-form');\nconst loaderElement = document.querySelector('.loader');\n\nconst iziWarning = () =>\n  iziToast.show({\n    message: 'Input is empty!',\n    position: 'topRight',\n    backgroundColor: 'orangered',\n    messageSize: '16',\n    messageColor: '#fff',\n    theme: 'dark',\n    maxWidth: '432px',\n    icon: 'ico-warning',\n  });\n\nconst iziError = () =>\n  iziToast.show({\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n    backgroundColor: '#EF4040',\n    messageSize: '16',\n    messageColor: '#fff',\n    theme: 'dark',\n    maxWidth: '432px',\n    icon: 'ico-error',\n  });\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nconst showLoader = () => loaderElement.classList.remove('hidden');\nconst hideLoader = () => loaderElement.classList.add('hidden');\n\nconst handleForm = event => {\n  event.preventDefault();\n  const query = event.currentTarget.elements['text-request'].value\n    .toLowerCase()\n    .trim();\n\n  if (!query) return iziWarning();\n\n  gallery.innerHTML = '';\n  showLoader();\n\n  searchImages(query)\n    .then(json => {\n      if (!json.hits.length) return iziError();\n      gallery.insertAdjacentHTML('beforeend', imageCard(json.hits).join(''));\n      lightbox.refresh();\n    })\n    .catch(e => console.log(e))\n    .finally(() => hideLoader());\n\n  form.reset();\n};\n\nform.addEventListener('submit', handleForm);\n"],"names":["API_KEY","BASE_URL","searchImages","searchRequest","options","response","imageCard","array","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","form","loaderElement","iziWarning","iziToast","iziError","lightbox","SimpleLightbox","showLoader","hideLoader","handleForm","event","query","json","e"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAeC,GAAiB,CAC3C,MAAMC,EAAU,IAAI,gBAAgB,CAClC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAO,EAAE,EAAE,KAAKC,GAAY,CACtD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,EClBaC,EAAYC,GACvBA,EAAM,IACJ,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACN,IAAU;AAAA;AAAA,WAECL,CAAa;AAAA,YACZD,CAAY,gCAAgCE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4BAKhCC,CAAK;AAAA;AAAA;AAAA;AAAA,4BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,8BAIHC,CAAQ;AAAA;AAAA;AAAA;AAAA,8BAIRC,CAAS;AAAA;AAAA;AAAA,MAIpC,EC1BGC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAgB,SAAS,cAAc,SAAS,EAEhDC,EAAa,IACjBC,EAAS,KAAK,CACZ,QAAS,kBACT,SAAU,WACV,gBAAiB,YACjB,YAAa,KACb,aAAc,OACd,MAAO,OACP,SAAU,QACV,KAAM,aACV,CAAG,EAEGC,EAAW,IACfD,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,YAAa,KACb,aAAc,OACd,MAAO,OACP,SAAU,QACV,KAAM,WACV,CAAG,EAEGE,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEKC,EAAa,IAAMN,EAAc,UAAU,OAAO,QAAQ,EAC1DO,EAAa,IAAMP,EAAc,UAAU,IAAI,QAAQ,EAEvDQ,EAAaC,GAAS,CAC1BA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,cAAc,SAAS,cAAc,EAAE,MACxD,YAAa,EACb,OAEH,GAAI,CAACC,EAAO,OAAOT,IAEnBH,EAAQ,UAAY,GACpBQ,IAEArB,EAAayB,CAAK,EACf,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,OAAOR,EAAQ,EACtCL,EAAQ,mBAAmB,YAAaT,EAAUsB,EAAK,IAAI,EAAE,KAAK,EAAE,CAAC,EACrEP,EAAS,QAAO,CACtB,CAAK,EACA,MAAMQ,GAAK,QAAQ,IAAIA,CAAC,CAAC,EACzB,QAAQ,IAAML,EAAU,CAAE,EAE7BR,EAAK,MAAK,CACZ,EAEAA,EAAK,iBAAiB,SAAUS,CAAU"}